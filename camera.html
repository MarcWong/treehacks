<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="HACKPKU 2016 - Come and make history with us.">
    <meta name="author" content="">
    
    <title>treehacks 2016</title>
    
    <!-- Bootstrap -->
    <link href="lib/css/bootstrap.min.css" rel="stylesheet">
    <link rel="icon" type="image/png" href="resources/img/favicon.png">
    
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <!-- jQuery -->
    <script src="lib/js/jquery.js"></script>
    <!-- Bootstrap Core JavaScript -->
    <script src="lib/js/bootstrap.min.js"></script>
    <!-- Plugin JavaScript -->
    <script src="lib/js/jquery.easing.min.js"></script>
    
    <link href="new_pc/common.css" rel="stylesheet">

</head>
<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top"style="height:600px;">
<div style="text-align:center;">
 <video id="video" width="640" height="480" autoplay></video>
</div>
<div style="text-align:center;position:relative;top:-480px;z-index:10;"><canvas id="canvas" width="640" height="480"></canvas></div>
<div style="text-align:center;position:relative;top:-480px">
<button class="btn btn-default btn-lg" onclick="pic();">Snap Photo</button><div class="row">
<div style="text-align:center; padding-top:50px;">
<a href="new_pc/index.html"><button class="btn btn-default btn-lg">back to homepage</button></a>
</div>
</div>  
</div>

    <script>     
      window.addEventListener("DOMContentLoaded", function() {  
    // Grab elements, create settings, etc.  
    var canvas = document.getElementById("canvas"),  
        context = canvas.getContext("2d"),  
        video = document.getElementById("video"),  
        videoObj = { "video": true },  
        errBack = function(error) {  
            console.log("Video capture error: ", error.code);   
        };  
  
    // Put video listeners into place  
    if(navigator.getUserMedia) { // Standard  
        navigator.getUserMedia(videoObj, function(stream) {  
            video.src = stream;  
            video.play();  
        }, errBack);  
    } else if(navigator.webkitGetUserMedia) { // WebKit-prefixed  
        navigator.webkitGetUserMedia(videoObj, function(stream){  
            video.src = window.webkitURL.createObjectURL(stream);  
            video.play();  
        }, errBack);  
    }  
    else if(navigator.mozGetUserMedia) { // Firefox-prefixed  
        navigator.mozGetUserMedia(videoObj, function(stream){  
            video.src = window.URL.createObjectURL(stream);  
            video.play();  
        }, errBack);  
    }  
}, false);  
    </script> 
<script> 
function pic(){
var p = document.getElementById("canvas");
var c = canvas.getContext('2d');
c.drawImage(video, 0, 0, 640, 480);
var v = document.getElementById("video");
v.src="<div style='width:640px;height:480px;color:white;'><div>";
}
</script>
</body>
</html>
